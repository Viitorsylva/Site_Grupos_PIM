<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>Grupos PIM</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="{{ url_for('static', filename='style.css') }}" rel="stylesheet">
</head>
<body>
<!-- NAVBAR SUPERIOR -->

<nav class="navbar px-3 py-2">
  <div class="container-fluid d-flex align-items-center">
    <!-- Logo -->
    <div class="flex-shrink-0">
      <img src="{{ url_for('static', filename='Unip.png') }}" alt="Logo UNIP"  class="md-1" height="100">
    </div>

    <!-- Títulos -->
    <div class="flex-grow-1 text-center">
      <h1 class="fw-bold mb-0">GRUPIM</h1>
      <h2 class="fw-semibold">Sistema de cadastro de Grupos</h2>
    </div>
  </div>
</nav>
<!-- FILTROS -->
<div class="container mt-4">
    <form method="GET" class="d-flex flex-wrap gap-2 mb-4 justify-content-center">
        <!-- Campo de busca -->
        <input type="text" name="busca" class="form-control flex-grow-1"
               placeholder="Buscar por nome, descrição ou integrante" value="{{ busca }}" style="min-width:250px;">

        <!-- Seleção de sala -->
        <select name="sala" class="form-select" style="min-width:150px;">
            <option value="">Todas as salas</option>
            {% for s in range(500, 521) %}
            <option value="{{ s }}" {% if sala == s|string %}selected{% endif %}>Sala {{ s }}</option>
            {% endfor %}
        </select>

        <!-- Botões -->
        <button type="submit" class="btn btn-primary">🔍 Filtrar</button>
        <a href="/" class="btn btn-secondary">🔄 Limpar</a>
        <a href="/cadastrar" class="btn btn-success">➕ Novo Grupo</a>
    </form>

    <!-- LISTA DE GRUPOS -->
    {% if grupos %}
    <div class="row">
        {% for grupo in grupos %}
        <div class="col-md-6 col-lg-4 mb-4">
            <div class="card shadow-sm border-0 rounded-3">
                <div class="card-body">
                    <h5 class="card-title">{{ grupo[1] }}</h5>
                    <p><strong>Descrição:</strong> {{ grupo[2] }}</p>
                    <p><strong>Integrantes:</strong> {{ grupo[3] }}</p>
                    <p><strong>Sala:</strong> {{ grupo[4] }}</p>
                    <p><strong>Status:</strong> {{ grupo[5] }}</p>
                    <p><strong>Telefone:</strong> {{ grupo[6] }}</p>
                    <div class="d-flex justify-content-between">
                        <a href="/editar/{{ grupo[0] }}" class="btn btn-sm btn-warning">✏️ Editar</a>
                        <a href="/excluir/{{ grupo[0] }}" class="btn btn-sm btn-danger" 
                           onclick="return confirm('Tem certeza que deseja excluir este grupo?')">🗑️ Excluir</a>
                    </div>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
    {% else %}
    <div class="alert alert-info text-center">Nenhum grupo cadastrado ainda.</div>
    {% endif %}
</div>

</body>
</html>
